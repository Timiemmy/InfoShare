{% extends "base.html" %}
{% load static %}
{% load blog_tags %}

{% block header %}
{% include 'header.html' %}
{% endblock %}

{% block body %}

	<!-- hero section -->
	<section id="hero">

		<div class="container-xl">

			<div class="row gy-4">

				<div class="col-lg-8">
					
					<!-- featured post large -->
					{% for post in head_post %}
					<div class="post featured-post-lg">
						<div class="details clearfix">
							<a href="category.html" class="category-badge">{{post.category}}</a>
							<h2 class="post-title"><a href="{{ post.get_absolute_url }}">{{post.title}}</a></h2>
							<ul class="meta list-inline mb-0">
								<li class="list-inline-item"><a href="#">{{post.author}}</a></li>
								<li class="list-inline-item">{{post.created_at}}</li>
								<li class="list-inline-item">{{ post.views }} views</li>
							</ul>
						</div>
						<a href="{{ post.get_absolute_url }}">
							<div class="thumb rounded">
								<div class="inner data-bg-image" data-bg-image="{{post.image.url}}"></div>
							</div>
						</a>
					</div>
					{% endfor %}

				</div>

				<div class="col-lg-4">

					<!-- post tabs -->
					<div class="post-tabs rounded bordered">
						<!-- tab navs -->
						<ul class="nav nav-tabs nav-pills nav-fill" id="postsTab" role="tablist">
							<li class="nav-item" role="presentation"><button aria-controls="popular" aria-selected="true" class="nav-link active" data-bs-target="#popular" data-bs-toggle="tab" id="popular-tab" role="tab" type="button">Popular</button></li>
							<li class="nav-item" role="presentation"><button aria-controls="recent" aria-selected="false" class="nav-link" data-bs-target="#recent" data-bs-toggle="tab" id="recent-tab" role="tab" type="button">Recent</button></li>
						</ul>
						<!-- tab contents -->
						<div class="tab-content" id="postsTabContent">
							<!-- loader -->
							<div class="lds-dual-ring"></div>
							<!-- popular posts -->
							<div aria-labelledby="popular-tab" class="tab-pane fade show active" id="popular" role="tabpanel">
								<!-- post -->
								 {% for post in popular %}
								<div class="post post-list-sm circle">
									<div class="thumb circle">
										<a href="{{ post.get_absolute_url }}">
											<div class="inner">
												<img src="{{post.image.url}}" alt="post-title" />
											</div>
										</a>
									</div>
									<div class="details clearfix">
										<h6 class="post-title my-0"><a href="{{ post.get_absolute_url }}">{{post.title}}</a></h6>
										<ul class="meta list-inline mt-1 mb-0">
											<li class="list-inline-item">{{post.created_at}}</li>
										</ul>
									</div>
								</div>
								{% endfor %}

							</div>
							<!-- recent posts -->
							<div aria-labelledby="recent-tab" class="tab-pane fade" id="recent" role="tabpanel">
								<!-- post -->
								 {% for post in recent %}
								<div class="post post-list-sm circle">
									<div class="thumb circle">
										<a href="{{ post.get_absolute_url }}">
											<div class="inner">
												<img src="{{post.image.url}}" alt="post-title" />
											</div>
										</a>
									</div>
									<div class="details clearfix">
										<h6 class="post-title my-0"><a href="{{ post.get_absolute_url }}">{{post.title}}</a></h6>
										<ul class="meta list-inline mt-1 mb-0">
											<li class="list-inline-item">{{post.created_at}}</li>
										</ul>
									</div>
								</div>
								{% endfor %}

							</div>
						</div>
					</div>
				</div>

			</div>

		</div>

	</section>

	<!-- section main content -->
	<section class="main-content">
		<div class="container-xl">

			<div class="row gy-4">

				<div class="col-lg-8">
					<!-- section header -->
					<div class="section-header">
						<h3 class="section-title">Most Liked Posts</h3>
						<img src="{% static 'images/wave.svg' %}" class="wave" alt="wave" />
					</div>
					
					<div class="padding-30 rounded bordered">
					
						<div class="row">
					
							<div class="col-md-12 col-sm-6">
								<!-- post -->
								{% for post in most_liked %}
								<div class="post post-list clearfix">
									<div class="thumb rounded">
										<span class="post-format-sm">
											<i class="icon-picture"></i>
										</span>
										<a href="{{ post.get_absolute_url }}">
											<div class="inner">
												<img src="{{ post.image.url }}" alt="post-title" />
											</div>
										</a>
									</div>
									<div class="details">
										<ul class="meta list-inline mb-3">
											<li class="list-inline-item"><a href="#"><img src="#" class="author"
														alt="author" />{{post.author}}</a></li>
											<li class="list-inline-item"><a href="#">{{post.category}}</a></li>
											<li class="list-inline-item">{{post.created_at}}</li>
										</ul>
										<h5 class="post-title"><a href="{{post.get_absolute_url}}"> {{post.title}}</a></h5>
										<p class="excerpt mb-0">{{post.content | truncatewords:30}}</p>
										<div class="post-bottom clearfix d-flex align-items-center">
											<div class="social-share me-auto">
												<button class="toggle-button icon-share m-1"></button>
												<button class="toggle-button icon-like m-2"> {{ post.total_likes }} </button>
												<button class="toggle-button icon-dislike m-2"> 1 </button>
												<button class="toggle-button icon-eye m-2"> 1 </button>
											</div>
										</div>
									</div>
								</div>
								{% endfor %}
							</div>
					
						</div>
					
					</div>

					<!-- section header -->
					<div class="section-header">
						<h3 class="section-title">Latest Posts</h3>
						<img src="{% static 'images/wave.svg' %}" class="wave" alt="wave" />
					</div>

					<div class="padding-30 rounded bordered">

						<div class="row">
							
							<div class="col-md-12 col-sm-6">
								<!-- post -->
								{% for post in posts %}
								<div class="post post-list clearfix">
									<div class="thumb rounded">
										<span class="post-format-sm">
											<i class="icon-picture"></i>
										</span>
										<a href="{{ post.get_absolute_url }}">
											<div class="inner">
												<img src="{{ post.image.url }}" alt="post-title" />
											</div>
										</a>
									</div>
									<div class="details">
										<ul class="meta list-inline mb-3">
											<li class="list-inline-item"><a href="#"><img src="#" class="author" alt="author"/>{{post.author}}</a></li>
											<li class="list-inline-item"><a href="#">{{post.category}}</a></li>
											<li class="list-inline-item">{{post.created_at}}</li>
										</ul>
										<h5 class="post-title"><a href="{{post.get_absolute_url}}"> {{post.title}}</a></h5>
										<p class="excerpt mb-0">{{post.content | truncatewords:20}}</p>
										<div class="post-bottom clearfix d-flex align-items-center">
											<div class="social-share me-auto">
												<button class="toggle-button icon-share m-1"></button>
												<button class="toggle-button icon-like m-2"> {{ post.total_likes }} </button>
												<button class="toggle-button icon-dislike m-2"> 1 </button>
												<button class="toggle-button icon-eye m-2"> 1 </button>
											</div>
										</div>
									</div>
								</div>
								{% endfor %}
							</div>
							
						</div>
							
						<!-- load more button -->
						<div class="text-center">
							<button class="btn btn-simple">Load More</button>
						</div>

					</div>

				</div>
				<div class="col-lg-4">

					<!-- sidebar -->
					<div class="sidebar">
						<!-- widget about -->
						<div class="widget rounded">
							<div class="widget-about data-bg-image text-center" data-bg-image="images/map-bg.png">
								<h3 class="mb-4"> Express </h3>
								<p class="mb-4">Hello, this is a content sharing platform about python programming and all related to it.</p>
								<ul class="social-icons list-unstyled list-inline mb-0">
									<li class="list-inline-item"><a href="#"><i class="fab fa-facebook-f"></i></a></li>
									<li class="list-inline-item"><a href="#"><i class="fab fa-twitter"></i></a></li>
									<li class="list-inline-item"><a href="#"><i class="fab fa-instagram"></i></a></li>
									<li class="list-inline-item"><a href="#"><i class="fab fa-pinterest"></i></a></li>
									<li class="list-inline-item"><a href="#"><i class="fab fa-medium"></i></a></li>
									<li class="list-inline-item"><a href="#"><i class="fab fa-youtube"></i></a></li>
								</ul>
							</div>
						</div>

						<!-- widget popular posts -->
						<div class="widget rounded">
							<div class="widget-header text-center">
								<h3 class="widget-title">Popular Posts</h3>
								<img src="{% static 'images/wave.svg' %}" class="wave" alt="wave" />
							</div>
							<div class="widget-content">
								{% for post in most_liked %}
								<div class="post post-list-sm circle">
									<div class="thumb circle">
										<span class="number">1</span>
										<a href="{{post.get_absolute_url}}">
											<div class="inner">
												<img src="{{post.image.url}}" alt="post-title" />
											</div>
										</a>
									</div>
									<div class="details clearfix">
										<h6 class="post-title my-0"><a href="{{post.get_absolute_url}}">{{post.title}}</a></h6>
										<ul class="meta list-inline mt-1 mb-0">
											<li class="list-inline-item">{{post.created_at}}</li>
										</ul>
									</div>
								</div>
								{% endfor %}
								
							</div>		
						</div>

						<!-- widget categories -->
						<div class="widget rounded">
							<div class="widget-header text-center">
								<h3 class="widget-title">Explore Categories</h3>
								<img src="images/wave.svg" class="wave" alt="wave" />
							</div>
							<div class="widget-content">
								<ul class="list">
									{% for cat in category %}
									<li><a href="#">{{cat.name}}</a><span>({{ cat.post_count}})</span></li>
									
									{% endfor %}
								</ul>
							</div>
							
						</div>

						<!-- widget newsletter -->
						<div class="widget rounded">
							<div class="widget-header text-center">
								<h3 class="widget-title">Newsletter</h3>
								<img src="{% static 'images/wave.svg' %}" class="wave" alt="wave" />
							</div>
							<div class="widget-content">
								<span class="newsletter-headline text-center mb-3">Join 70,000 subscribers!</span>
								<form>
									<div class="mb-2">
										<input class="form-control w-100 text-center" placeholder="Email address…" type="email">
									</div>
									<button class="btn btn-default btn-full" type="submit">Sign Up</button>
								</form>
								<span class="newsletter-privacy text-center mt-3">By signing up, you agree to our <a href="#">Privacy Policy</a></span>
							</div>		
						</div>

						<!-- widget tags -->
						<div class="widget rounded">
							<div class="widget-header text-center">
								<h3 class="widget-title">Tag Clouds</h3>
								<img src="images/wave.svg" class="wave" alt="wave" />
							</div>
							<div class="widget-content">
								<a href="#" class="tag">#Trending</a>
								<a href="#" class="tag">#Video</a>
								<a href="#" class="tag">#Featured</a>
								<a href="#" class="tag">#Gallery</a>
								<a href="#" class="tag">#Celebrities</a>
							</div>		
						</div>

					</div>

				</div>

			</div>

		</div>
	</section>

	{% endblock body %}